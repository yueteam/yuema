!function t(i,e,o){function n(s,r){if(!e[s]){if(!i[s]){var d="function"==typeof require&&require;if(!r&&d)return d(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=e[s]={exports:{}};i[s][0].call(l.exports,function(t){var e=i[s][1][t];return n(e?e:t)},l,l.exports,t,i,e,o)}return e[s].exports}for(var a="function"==typeof require&&require,s=0;s<o.length;s++)n(o[s]);return n}({1:[function(t,i,e){var o=window.location.protocol+"//"+window.location.host+"/";"w.yuema.us"===window.location.hostname&&(o=window.location.protocol+"//www.yuema.us/");var n={loginApi:o+"open-api/login",registApi:o+"open-api/simple-regist",perfectApi:o+"action/user/update",provincesListApi:o+"open-api/query/provinces-list",citiesListApi:o+"open-api/query/cities-list",addressesListApi:o+"open-api/query/addresses-list",postDatingApi:o+"action/dating/post",requestDatingApi:o+"action/dating/request",acceptDatingApi:o+"action/dating/accept",listApi:o+"open-api/query/dating/dating-list",profileApi:o+"open-api/query/home-info"};i.exports=n},{}],2:[function(t,i,e){var o={getUrlParam:function(t){var i=new RegExp("[?|&]"+t+"=([^&]+)"),e=location.search.match(i);return e&&e[1]},stopEventTap:function(){var t=$('<div style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 99999; "></div>');$("body").append(t),setTimeout(function(){t.remove()},500)},formatDate:function(t){"string"==typeof t&&(t=this.strToDate(t));var i=t.getFullYear(),e=t.getMonth()+1,o=t.getDate();return 10>e&&(e="0"+e),10>o&&(o="0"+o),i+"-"+e+"-"+o},strToDate:function(t){var i=t.replace(/-/g,"/");return new Date(i)},hideKeyboard:function(){var t=$('<a style="width: 0;height: 0;font-size: 0;display: block"></a>');$("body").append(t),t.focus(),setTimeout(function(){t.remove()},0)},getNetworkState:function(){var t=150,i=!1;if(window.performance){var e=window.performance.timing,o=e.responseEnd-e.domainLookupStart;i=o>t?!1:!0}return i},isIOS:function(){var t=ua.match(/(iPad).*OS\s([\d_]+)/),i=ua.match(/(iPod)(.*OS\s([\d_]+))?/),e=!t&&ua.match(/(iPhone\sOS)\s([\d_]+)/);return t||e||i?!0:!1},isAndroid:function(){return ua.indexOf("Android")>-1},isWeixin:function(){return ua.indexOf("MicroMessenger")>-1},getCookie:function(t){var i=new RegExp("(^| )"+t+"=([^;]*)(;|$)"),e=document.cookie.match(i);return null!=e?decodeURI(e[2]):""},isLogin:function(){var t=this,i=t.getCookie("logined");return""!==i?!0:!1},template:function(t,i){function e(t){if(!t)return"";var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"};return(""+t).replace(/[&<>"']/g,function(t){return i[t]})}var o,n={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},a=/'|\\|\r|\n|\t|\u2028|\u2029/g,s=/<%-([\s\S]+?)%>|<%=([\s\S]+?)%>|<%([\s\S]+?)%>|$/g,r=0,d="__p+='";t.replace(s,function(i,o,s,c,l){return d+=t.slice(r,l).replace(a,function(t){return"\\"+n[t]}),o&&(d+="'+\n((__t=("+o+"))==null?'':"+e.name+"(__t))+\n'"),s&&(d+="'+\n((__t=("+s+"))==null?'':__t)+\n'"),c&&(d+="';\n"+c+"\n__p+='"),r=l+i.length,i}),d+="';\n",d="with(obj||{}){\n"+d+"}\n",d=e.toString()+"var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+d+"return __p;\n";try{o=new Function("obj",d)}catch(c){throw c.source=d,c}if(i)return o(i);var l=function(t){return o(t)};return l.source="function(obj){\n"+d+"}",l}};i.exports=o},{}],3:[function(t,i,e){var o=function(t){1==t.isRedirect&&setTimeout(function(){window.location.href=t.redirectURL},2e3)};i.exports={post:function(t,i,e,n){$.ajax({url:t,data:i,type:"post",dataType:"json",success:function(t){o(t),"SUCCESS"===t.resultCode?e(t):n(t)},error:function(t){var i=(t.status||500,"对不起，服务器正在维护，请稍后再试...");switch(t.status){case 404:i="对不起，你访问的接口不存在...";break;case 403:i="对不起，你没有权限访问该接口...";break;case 500:i="对不起，正在进行服务器维护，请稍后再来...";break;case 502:i="对不起，你访问的接口程序出错...";break;case 503:i="对不起，你访问的接口后端异常...";break;default:i="对不起，服务器正在维护，请稍后再试..."}var t={isRedirect:!1,result:{},resultCode:"SERVER ERROR",resultMsg:i};n(t)}})},get:function(t,i,e,n){$.ajax({url:t,data:i,type:"get",dataType:"json",success:function(t){o(t),"SUCCESS"===t.resultCode?e(t):n(t)},error:function(t){var i=(t.status||500,"对不起，服务器正在维护，请稍后再试...");switch(t.status){case 404:i="对不起，你访问的接口不存在...";break;case 403:i="对不起，你没有权限访问该接口...";break;case 500:i="对不起，正在进行服务器维护，请稍后再来...";break;case 502:i="对不起，你访问的接口程序出错...";break;case 503:i="对不起，你访问的接口后端异常...";break;default:i="对不起，服务器正在维护，请稍后再试..."}var t={isRedirect:!1,result:{},resultCode:"ERROR",resultMsg:i};n(t)}})}}},{}],4:[function(t,i,e){var o=$("body"),n=$('<div class="dialog-overlay"></div>'),a=$('<div class="dialog"></div>');i.exports={_stopEventTap:function(){var t=$('<div style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 99999; "></div>');$("body").append(t),setTimeout(function(){t.remove()},350)},_initModal:function(){n=$('<div class="dialog-overlay"></div>'),a=$('<div class="dialog"></div>'),o.append(n),o.append(a)},_initEvent:function(){var t=this;$(".dialog-overlay").one("touchend",function(i){i.preventDefault(),t._stopEventTap(),t.hide()})},hide:function(){a.addClass("dialog-out"),n.removeClass("dialog-overlay-visible"),setTimeout(function(){n.remove(),a.remove()},200)},show:function(){n.addClass("dialog-overlay-visible"),a.addClass("dialog-in")},_position:function(){var t=parseInt(a.height())/2;a.css("marginTop","-"+t+"px")},alert:function(t,i){var e=this,o=$('<div class="dialog-inner"></div>');e._initModal();var n=t,s="温馨提示";"object"==typeof t&&t.title&&(n=t.body||"",s=t.title);var r=$('<div class="dialog-title">'+s+"</div>"),d=$('<div class="dialog-text">'+n+"</div>");o.append(r),o.append(d),a.append(o);var c=$('<div class="dialog-buttons"></div>'),l=$('<span class="dialog-button">确定</span>');c.append(l),a.append(c),l.on("click",function(){e.hide(),i&&i()}),e._position(),e.show()},confirm:function(t,i,e){var o=this,n=$('<div class="dialog-inner"></div>');o._initModal(),o._initEvent();var s={title:"温馨提示",body:"object"==typeof t?"":t,okText:"确定",cancelText:"取消"};"object"==typeof t&&(s=$.extend(s,t));var r=$('<div class="dialog-title">'+s.title+"</div>"),d=$('<div class="dialog-text">'+s.body+"</div>");n.append(r),n.append(d),a.append(n);var c=$('<div class="dialog-buttons"></div>'),l=$('<span class="dialog-button">'+s.cancelText+"</span>");$close=$('<span class="dialog-button">'+s.okText+"</span>"),c.append(l),c.append($close),a.append(c),l.on("click",function(){e&&e(),o.hide()}),$close.on("click",function(){i&&i(),o.hide()}),o._position(),o.show()}}},{}],5:[function(t,i,e){i.exports={hide:function(){$(".preloader-indicator-overlay, .preloader-indicator-modal, .preloader-label").remove()},show:function(t){var i="数据加载中...";if("object"==typeof t){i=t.msg||i;var e=$(t.renderTo),o=$('<div class="preloader-label"></div>'),n=$('<span class="preloader"></span>'),a=$('<span class="msg">'+i+"</span>");n.appendTo(o),a.appendTo(o),0===e.find(".preloader-label").length&&o.appendTo(e);var s=parseInt(a.width());o.css("width",s+25+1+"px")}else{i=t||i;var r=$('<div class="preloader-indicator-overlay"></div>'),d=$('<div class="preloader-indicator-modal"></div>'),n=$('<span class="preloader preloader-white"></span>'),a=$('<span class="msg">'+i+"</span>");n.appendTo(d),a.appendTo(d),r.appendTo($("body")),d.appendTo($("body"));var s=parseInt(d.width())/2,c=parseInt(d.height())/2;n.css("marginLeft",s-25+"px"),d.css({marginLeft:"-"+s+"px",marginTop:"-"+c+"px"})}}}},{}],6:[function(t,i,e){var o=$("body"),n=$('<div class="dialog-overlay"></div>'),a=$('<div class="dialog"></div>');i.exports={_initModal:function(){n=$('<div class="dialog-overlay"></div>'),a=$('<div class="dialog dialog-no-buttons"></div>'),o.append(n),o.append(a)},_hide:function(){a.addClass("dialog-out"),n.removeClass("dialog-overlay-visible"),setTimeout(function(){n.remove(),a.remove()},200)},_show:function(){n.addClass("dialog-overlay-visible"),a.addClass("dialog-in")},_position:function(){var t=parseInt(a.height())/2;a.css("marginTop","-"+t+"px")},show:function(t){var i=this,e=$('<div class="dialog-inner"></div>');i._initModal();var o=t.text||"",n=t.title||"";msgType=t.type||"success",callback=t.callback||null,"success"===msgType&&""===n&&(n="成功"),"error"===msgType&&""===n&&(n="失败");var s=$('<div class="iconfont icon-'+msgType+'"></div>'),r=$('<div class="dialog-title">'+n+"</div>"),d=$('<div class="dialog-text">'+o+"</div>");e.append(s),e.append(r),e.append(d),a.append(e),setTimeout(function(){i._hide(),callback&&callback()},2e3),i._position(),i._show()}}},{}],7:[function(t,i,e){var o=t("../../common/utils"),n=t("../../common/apimap"),a=t("../../components/tips"),s=t("../../components/ajax"),r=t("../../components/loading/loading"),d=t("../../components/dialog/dialog");i.exports={init:function(){var t=this;$(document).on("tap",".g-yue",function(){if(!o.isLogin())return window.location.href="./login.html",!1;o.stopEventTap();var i=$(this).data("id"),e=$(this).data("uid"),n=['<div class="input-row">','<textarea class="ask-txa" id="askWords" placeholder="讲文明懂礼貌，把握好这仅有的一次机会"></textarea>',"</div>"].join("");d.confirm({title:"回应这个邀约",body:n,okText:"我想约你"},function(){var o=$.trim($("#askWords").val());return""===o?(a.show({type:"error",title:"说点什么吧"}),!1):void t.sendAsk(i,e,o)})})},sendAsk:function(t,i,e){r.show(),s.post(n.requestDatingApi,{datingId:t,userId:i,message:e},function(t){r.hide(),a.show({type:"success",title:"发送成功，请耐心等待回音"})},function(t){r.hide(),a.show({type:"error",title:t.resultMsg})})}}},{"../../common/apimap":1,"../../common/utils":2,"../../components/ajax":3,"../../components/dialog/dialog":4,"../../components/loading/loading":5,"../../components/tips":6}],8:[function(t,i,e){$(function(){var i=t("../../common/utils"),e=t("../../mods/yue/yue"),o=i.template($("#list-tmpl").html(),{list:[{id:123,words:"美队3要上映了，周末去看吗",time:"2016/05/06",tag:3,iconCls:"icon-film",what:"电影"},{id:123,words:"美队3要上映了，周末去看吗",time:"2016/05/06",tag:3,iconCls:"icon-film",what:"电影"},{id:123,words:"美队3要上映了，周末去看吗",time:"2016/05/06",tag:3,iconCls:"icon-film",what:"电影"}]});$(".list").html(o),e.init()})},{"../../common/utils":2,"../../mods/yue/yue":7}]},{},[8]);