!function i(e,t,n){function o(s,r){if(!t[s]){if(!e[s]){var d="function"==typeof require&&require;if(!r&&d)return d(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=t[s]={exports:{}};e[s][0].call(l.exports,function(i){var t=e[s][1][i];return o(t?t:i)},l,l.exports,i,e,t,n)}return t[s].exports}for(var a="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(i,e,t){var n=window.location.protocol+"//"+window.location.host+"/";"w.yuema.us"===window.location.hostname&&(n=window.location.protocol+"//www.yuema.us/");var o={loginApi:n+"open-api/login",registApi:n+"open-api/simple-regist",perfectApi:n+"action/user/update",provincesListApi:n+"open-api/query/provinces-list",citiesListApi:n+"open-api/query/cities-list",addressesListApi:n+"open-api/query/addresses-list",postDatingApi:n+"action/dating/post",requestDatingApi:n+"action/dating/request",acceptDatingApi:n+"action/dating/accept",listApi:n+"open-api/query/dating/dating-list",profileApi:n+"open-api/query/home-info"};e.exports=o},{}],2:[function(i,e,t){var n={getUrlParam:function(i){var e=new RegExp("[?|&]"+i+"=([^&]+)"),t=location.search.match(e);return t&&t[1]},stopEventTap:function(){var i=$('<div style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 99999; "></div>');$("body").append(i),setTimeout(function(){i.remove()},500)},formatDate:function(i){"string"==typeof i&&(i=this.strToDate(i));var e=i.getFullYear(),t=i.getMonth()+1,n=i.getDate();return 10>t&&(t="0"+t),10>n&&(n="0"+n),e+"-"+t+"-"+n},strToDate:function(i){var e=i.replace(/-/g,"/");return new Date(e)},hideKeyboard:function(){var i=$('<a style="width: 0;height: 0;font-size: 0;display: block"></a>');$("body").append(i),i.focus(),setTimeout(function(){i.remove()},0)},getNetworkState:function(){var i=150,e=!1;if(window.performance){var t=window.performance.timing,n=t.responseEnd-t.domainLookupStart;e=n>i?!1:!0}return e},isIOS:function(){var i=ua.match(/(iPad).*OS\s([\d_]+)/),e=ua.match(/(iPod)(.*OS\s([\d_]+))?/),t=!i&&ua.match(/(iPhone\sOS)\s([\d_]+)/);return i||t||e?!0:!1},isAndroid:function(){return ua.indexOf("Android")>-1},isWeixin:function(){return ua.indexOf("MicroMessenger")>-1},isLogin:function(){return ua.indexOf("MicroMessenger")>-1},template:function(i,e){function t(i){if(!i)return"";var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"};return(""+i).replace(/[&<>"']/g,function(i){return e[i]})}var n,o={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},a=/'|\\|\r|\n|\t|\u2028|\u2029/g,s=/<%-([\s\S]+?)%>|<%=([\s\S]+?)%>|<%([\s\S]+?)%>|$/g,r=0,d="__p+='";i.replace(s,function(e,n,s,c,l){return d+=i.slice(r,l).replace(a,function(i){return"\\"+o[i]}),n&&(d+="'+\n((__t=("+n+"))==null?'':"+t.name+"(__t))+\n'"),s&&(d+="'+\n((__t=("+s+"))==null?'':__t)+\n'"),c&&(d+="';\n"+c+"\n__p+='"),r=l+e.length,e}),d+="';\n",d="with(obj||{}){\n"+d+"}\n",d=t.toString()+"var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+d+"return __p;\n";try{n=new Function("obj",d)}catch(c){throw c.source=d,c}if(e)return n(e);var l=function(i){return n(i)};return l.source="function(obj){\n"+d+"}",l}};e.exports=n},{}],3:[function(i,e,t){var n=function(i){1==i.isRedirect&&setTimeout(function(){window.location.href=i.redirectURL},2e3)};e.exports={post:function(i,e,t,o){$.ajax({url:i,data:e,type:"post",dataType:"json",success:function(i){n(i),"SUCCESS"===i.resultCode?t(i):o(i)},error:function(i){var e=(i.status||500,"对不起，服务器正在维护，请稍后再试...");switch(i.status){case 404:e="对不起，你访问的接口不存在...";break;case 403:e="对不起，你没有权限访问该接口...";break;case 500:e="对不起，正在进行服务器维护，请稍后再来...";break;case 502:e="对不起，你访问的接口程序出错...";break;case 503:e="对不起，你访问的接口后端异常...";break;default:e="对不起，服务器正在维护，请稍后再试..."}var i={isRedirect:!1,result:{},resultCode:"SERVER ERROR",resultMsg:e};o(i)}})},get:function(i,e,t,o){$.ajax({url:i,data:e,type:"get",dataType:"json",success:function(i){n(i),"SUCCESS"===i.resultCode?t(i):o(i)},error:function(i){var e=(i.status||500,"对不起，服务器正在维护，请稍后再试...");switch(i.status){case 404:e="对不起，你访问的接口不存在...";break;case 403:e="对不起，你没有权限访问该接口...";break;case 500:e="对不起，正在进行服务器维护，请稍后再来...";break;case 502:e="对不起，你访问的接口程序出错...";break;case 503:e="对不起，你访问的接口后端异常...";break;default:e="对不起，服务器正在维护，请稍后再试..."}var i={isRedirect:!1,result:{},resultCode:"ERROR",resultMsg:e};o(i)}})}}},{}],4:[function(i,e,t){var n=$("body"),o=$('<div class="dialog-overlay"></div>'),a=$('<div class="dialog"></div>');e.exports={_stopEventTap:function(){var i=$('<div style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 99999; "></div>');$("body").append(i),setTimeout(function(){i.remove()},350)},_initModal:function(){o=$('<div class="dialog-overlay"></div>'),a=$('<div class="dialog"></div>'),n.append(o),n.append(a)},_initEvent:function(){var i=this;$(".dialog-overlay").one("touchend",function(e){e.preventDefault(),i._stopEventTap(),i.hide()})},hide:function(){a.addClass("dialog-out"),o.removeClass("dialog-overlay-visible"),setTimeout(function(){o.remove(),a.remove()},200)},show:function(){o.addClass("dialog-overlay-visible"),a.addClass("dialog-in")},_position:function(){var i=parseInt(a.height())/2;a.css("marginTop","-"+i+"px")},alert:function(i,e){var t=this,n=$('<div class="dialog-inner"></div>');t._initModal();var o=i,s="温馨提示";"object"==typeof i&&i.title&&(o=i.body||"",s=i.title);var r=$('<div class="dialog-title">'+s+"</div>"),d=$('<div class="dialog-text">'+o+"</div>");n.append(r),n.append(d),a.append(n);var c=$('<div class="dialog-buttons"></div>'),l=$('<span class="dialog-button">确定</span>');c.append(l),a.append(c),l.on("click",function(){t.hide(),e&&e()}),t._position(),t.show()},confirm:function(i,e,t){var n=this,o=$('<div class="dialog-inner"></div>');n._initModal(),n._initEvent();var s={title:"温馨提示",body:"object"==typeof i?"":i,okText:"确定",cancelText:"取消"};"object"==typeof i&&(s=$.extend(s,i));var r=$('<div class="dialog-title">'+s.title+"</div>"),d=$('<div class="dialog-text">'+s.body+"</div>");o.append(r),o.append(d),a.append(o);var c=$('<div class="dialog-buttons"></div>'),l=$('<span class="dialog-button">'+s.cancelText+"</span>");$close=$('<span class="dialog-button">'+s.okText+"</span>"),c.append(l),c.append($close),a.append(c),l.on("click",function(){t&&t(),n.hide()}),$close.on("click",function(){e&&e(),n.hide()}),n._position(),n.show()}}},{}],5:[function(i,e,t){e.exports={hide:function(){$(".preloader-indicator-overlay, .preloader-indicator-modal, .preloader-label").remove()},show:function(i){var e="数据加载中...";if("object"==typeof i){e=i.msg||e;var t=$(i.renderTo),n=$('<div class="preloader-label"></div>'),o=$('<span class="preloader"></span>'),a=$('<span class="msg">'+e+"</span>");o.appendTo(n),a.appendTo(n),0===t.find(".preloader-label").length&&n.appendTo(t);var s=parseInt(a.width());n.css("width",s+25+1+"px")}else{e=i||e;var r=$('<div class="preloader-indicator-overlay"></div>'),d=$('<div class="preloader-indicator-modal"></div>'),o=$('<span class="preloader preloader-white"></span>'),a=$('<span class="msg">'+e+"</span>");o.appendTo(d),a.appendTo(d),r.appendTo($("body")),d.appendTo($("body"));var s=parseInt(d.width())/2,c=parseInt(d.height())/2;o.css("marginLeft",s-25+"px"),d.css({marginLeft:"-"+s+"px",marginTop:"-"+c+"px"})}}}},{}],6:[function(i,e,t){var n=$("body"),o=$('<div class="dialog-overlay"></div>'),a=$('<div class="dialog"></div>');e.exports={_initModal:function(){o=$('<div class="dialog-overlay"></div>'),a=$('<div class="dialog dialog-no-buttons"></div>'),n.append(o),n.append(a)},_hide:function(){a.addClass("dialog-out"),o.removeClass("dialog-overlay-visible"),setTimeout(function(){o.remove(),a.remove()},200)},_show:function(){o.addClass("dialog-overlay-visible"),a.addClass("dialog-in")},_position:function(){var i=parseInt(a.height())/2;a.css("marginTop","-"+i+"px")},show:function(i){var e=this,t=$('<div class="dialog-inner"></div>');e._initModal();var n=i.text||"",o=i.title||"";msgType=i.type||"success",callback=i.callback||null,"success"===msgType&&""===o&&(o="成功"),"error"===msgType&&""===o&&(o="失败");var s=$('<div class="iconfont icon-'+msgType+'"></div>'),r=$('<div class="dialog-title">'+o+"</div>"),d=$('<div class="dialog-text">'+n+"</div>");t.append(s),t.append(r),t.append(d),a.append(t),setTimeout(function(){e._hide(),callback&&callback()},2e3),e._position(),e._show()}}},{}],7:[function(i,e,t){var n=i("../../common/apimap"),o=i("../../components/tips"),a=i("../../components/ajax"),s=i("../../components/loading/loading"),r=i("../../components/dialog/dialog");e.exports={init:function(){var i=this;$(document).on("tap",".g-yue",function(){var e=$(this).data("id"),t=$(this).data("uid"),n=['<div class="input-row">','<textarea class="ask-txa" id="askWords" placeholder="说点什么"></textarea>',"</div>"].join("");r.confirm({title:"回应这个邀约",body:n},function(){var n=$.trim($("#askWords").val());return""===n?(o.show({type:"error",title:"说点什么吧"}),!1):void i.sendAsk(e,t,n)})})},sendAsk:function(i,e,t){s.show(),a.post(n.requestDatingApi,{datingId:i,userId:e,message:t},function(i){s.hide(),o.show({type:"success",title:"发送成功，请耐心等待回音"})},function(i){s.hide(),o.show({type:"error",title:i.resultMsg})})}}},{"../../common/apimap":1,"../../components/ajax":3,"../../components/dialog/dialog":4,"../../components/loading/loading":5,"../../components/tips":6}],8:[function(i,e,t){$(function(){var e=i("../../common/utils"),t=i("../../mods/yue/yue"),n=e.template($("#list-tmpl").html(),{list:[{id:123,words:"美队3要上映了，周末去看吗",time:"2016/05/06",tag:3,iconCls:"icon-film",what:"电影"},{id:123,words:"美队3要上映了，周末去看吗",time:"2016/05/06",tag:3,iconCls:"icon-film",what:"电影"},{id:123,words:"美队3要上映了，周末去看吗",time:"2016/05/06",tag:3,iconCls:"icon-film",what:"电影"}]});$(".list").html(n),t.init()})},{"../../common/utils":2,"../../mods/yue/yue":7}]},{},[8]);