webpackJsonp([7,8],Array(26).concat([function(n,e){n.exports=function(){var n=[];return n.toString=function(){for(var n=[],e=0;e<this.length;e++){var t=this[e];t[2]?n.push("@media "+t[2]+"{"+t[1]+"}"):n.push(t[1])}return n.join("")},n.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var a={},s=0;s<this.length;s++){var i=this[s][0];"number"==typeof i&&(a[i]=!0)}for(s=0;s<e.length;s++){var o=e[s];"number"==typeof o[0]&&a[o[0]]||(t&&!o[2]?o[2]=t:t&&(o[2]="("+o[2]+") and ("+t+")"),n.push(o))}},n}},function(n,e,t){function a(n,e){for(var t=0;t<n.length;t++){var a=n[t],s=f[a.id];if(s){s.refs++;for(var i=0;i<s.parts.length;i++)s.parts[i](a.parts[i]);for(;i<a.parts.length;i++)s.parts.push(l(a.parts[i],e))}else{for(var o=[],i=0;i<a.parts.length;i++)o.push(l(a.parts[i],e));f[a.id]={id:a.id,refs:1,parts:o}}}}function s(n){for(var e=[],t={},a=0;a<n.length;a++){var s=n[a],i=s[0],o=s[1],r=s[2],c=s[3],l={css:o,media:r,sourceMap:c};t[i]?t[i].parts.push(l):e.push(t[i]={id:i,parts:[l]})}return e}function i(n,e){var t=g(),a=v[v.length-1];if("top"===n.insertAt)a?a.nextSibling?t.insertBefore(e,a.nextSibling):t.appendChild(e):t.insertBefore(e,t.firstChild),v.push(e);else{if("bottom"!==n.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");t.appendChild(e)}}function o(n){n.parentNode.removeChild(n);var e=v.indexOf(n);e>=0&&v.splice(e,1)}function r(n){var e=document.createElement("style");return e.type="text/css",i(n,e),e}function c(n){var e=document.createElement("link");return e.rel="stylesheet",i(n,e),e}function l(n,e){var t,a,s;if(e.singleton){var i=b++;t=m||(m=r(e)),a=p.bind(null,t,i,!1),s=p.bind(null,t,i,!0)}else n.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(t=c(e),a=u.bind(null,t),s=function(){o(t),t.href&&URL.revokeObjectURL(t.href)}):(t=r(e),a=d.bind(null,t),s=function(){o(t)});return a(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap)return;a(n=e)}else s()}}function p(n,e,t,a){var s=t?"":a.css;if(n.styleSheet)n.styleSheet.cssText=B(e,s);else{var i=document.createTextNode(s),o=n.childNodes;o[e]&&n.removeChild(o[e]),o.length?n.insertBefore(i,o[e]):n.appendChild(i)}}function d(n,e){var t=e.css,a=e.media;if(a&&n.setAttribute("media",a),n.styleSheet)n.styleSheet.cssText=t;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(t))}}function u(n,e){var t=e.css,a=e.sourceMap;a&&(t+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var s=new Blob([t],{type:"text/css"}),i=n.href;n.href=URL.createObjectURL(s),i&&URL.revokeObjectURL(i)}var f={},A=function(n){var e;return function(){return"undefined"==typeof e&&(e=n.apply(this,arguments)),e}},h=A(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),g=A(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,b=0,v=[];n.exports=function(n,e){if("object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},"undefined"==typeof e.singleton&&(e.singleton=h()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var t=s(n);return a(t,e),function(n){for(var i=[],o=0;o<t.length;o++){var r=t[o],c=f[r.id];c.refs--,i.push(c)}if(n){var l=s(n);a(l,e)}for(var o=0;o<i.length;o++){var c=i[o];if(0===c.refs){for(var p=0;p<c.parts.length;p++)c.parts[p]();delete f[c.id]}}}};var B=function(){var n=[];return function(e,t){return n[e]=t,n.filter(Boolean).join("\n")}}()},,,,,,,function(n,e,t){n.exports={"default":t(35),__esModule:!0}},function(n,e,t){var a=t(13);n.exports=function(n){return(a.JSON&&a.JSON.stringify||JSON.stringify).apply(JSON,arguments)}},function(n,e){"use strict";var t=window.location.protocol+"//"+window.location.host+"/";"w.yuema.us"===window.location.hostname&&(t=window.location.protocol+"//www.yuema.us/");var a={loginApi:t+"open-api/login",registApi:t+"open-api/simple-regist",perfectApi:t+"action/user/update",provincesListApi:t+"open-api/query/provinces-list",citiesListApi:t+"open-api/query/cities-list",addressesListApi:t+"open-api/query/addresses-list",postDatingApi:t+"action/dating/post",requestDatingApi:t+"action/dating/request",acceptDatingApi:t+"action/dating/accept",listApi:t+"open-api/query/dating/dating-list",profileApi:t+"open-api/query/home-info",myRequestApi:t+"action/query/dating/my-request-dating-list",datingDetailApi:t+"open-api/query/dating/dating-info",chatRecordsApi:t+"action/query/message/message-list",chatListApi:t+"action/query/chatting/my-chatting-list"};n.exports=a},function(n,e,t){(function(e){"use strict";var t=e("body"),a=e('<div class="dialog-overlay"></div>'),s=e('<div class="dialog"></div>');n.exports={_initModal:function(){a=e('<div class="dialog-overlay"></div>'),s=e('<div class="dialog dialog-no-buttons"></div>'),t.append(a),t.append(s)},_hide:function(){s.addClass("dialog-out"),a.removeClass("dialog-overlay-visible"),setTimeout(function(){a.remove(),s.remove()},200)},_show:function(){a.addClass("dialog-overlay-visible"),s.addClass("dialog-in")},_position:function(){var n=parseInt(s.height())/2;s.css("marginTop","-"+n+"px")},show:function(n){var t=this,a=e('<div class="dialog-inner"></div>');t._initModal();var i=n.text||"",o=n.title||"",r=n.type||"success",c=n.callback||null;"success"===r&&""===o&&(o="成功"),"error"===r&&""===o&&(o="失败");var l=e('<div class="iconfont icon-'+r+'"></div>'),p=e('<div class="dialog-title">'+o+"</div>"),d=e('<div class="dialog-text">'+i+"</div>");a.append(l),a.append(p),a.append(d),s.append(a),setTimeout(function(){t._hide(),c&&c()},2e3),t._position(),t._show()}}}).call(e,t(4))},function(n,e,t){(function(e){"use strict";var t=function(n){1==n.isRedirect&&setTimeout(function(){window.location.href=n.redirectURL},2e3)};n.exports={post:function(n,a,s,i,o){e.ajax({url:n,data:a,type:"post",dataType:"json",success:function(n){o||t(n),"SUCCESS"===n.resultCode?s(n):i(n)},error:function(n){var e=(n.status||500,"对不起，服务器正在维护，请稍后再试...");switch(n.status){case 404:e="对不起，你访问的接口不存在...";break;case 403:e="对不起，你没有权限访问该接口...";break;case 500:e="对不起，正在进行服务器维护，请稍后再来...";break;case 502:e="对不起，你访问的接口程序出错...";break;case 503:e="对不起，你访问的接口后端异常...";break;default:e="对不起，服务器正在维护，请稍后再试..."}var n={isRedirect:!1,result:{},resultCode:"SERVER ERROR",resultMsg:e};i(n)}})},get:function(n,a,s,i){e.ajax({url:n,data:a,type:"get",dataType:"json",success:function(n){t(n),"SUCCESS"===n.resultCode?s(n):i(n)},error:function(n){var e=(n.status||500,"对不起，服务器正在维护，请稍后再试...");switch(n.status){case 404:e="对不起，你访问的接口不存在...";break;case 403:e="对不起，你没有权限访问该接口...";break;case 500:e="对不起，正在进行服务器维护，请稍后再来...";break;case 502:e="对不起，你访问的接口程序出错...";break;case 503:e="对不起，你访问的接口后端异常...";break;default:e="对不起，服务器正在维护，请稍后再试..."}var n={isRedirect:!1,result:{},resultCode:"ERROR",resultMsg:e};i(n)}})}}}).call(e,t(4))},,,function(n,e,t){(function(e){"use strict";function a(n){return n&&n.__esModule?n:{"default":n}}var s=t(42),i=a(s);n.exports={hide:function(){e(".preloader-indicator-overlay, .preloader-indicator-modal, .preloader-label").remove()},show:function(n){var t="数据加载中...";if("object"===("undefined"==typeof n?"undefined":(0,i["default"])(n))){t=n.msg||t;var a=e(n.renderTo),s=e('<div class="preloader-label"></div>'),o=e('<span class="preloader"></span>'),r=e('<span class="msg">'+t+"</span>");o.appendTo(s),r.appendTo(s),0===a.find(".preloader-label").length&&s.appendTo(a);var c=parseInt(r.width());s.css("width",c+25+1+"px")}else{t=n||t;var l=e('<div class="preloader-indicator-overlay"></div>'),p=e('<div class="preloader-indicator-modal"></div>'),o=e('<span class="preloader preloader-white"></span>'),r=e('<span class="msg">'+t+"</span>");o.appendTo(p),r.appendTo(p),l.appendTo(e("body")),p.appendTo(e("body"));var c=parseInt(p.width())/2,d=parseInt(p.height())/2;o.css("marginLeft",c-25+"px"),p.css({marginLeft:"-"+c+"px",marginTop:"-"+d+"px"})}}}}).call(e,t(4))},function(n,e,t){"use strict";var a=t(43)["default"];e["default"]=function(n){return n&&n.constructor===a?"symbol":typeof n},e.__esModule=!0},function(n,e,t){n.exports={"default":t(44),__esModule:!0}},function(n,e,t){t(45),t(66),n.exports=t(13).Symbol},function(n,e,t){"use strict";var a=t(46),s=t(12),i=t(47),o=t(48),r=t(11),c=t(49),l=t(16),p=t(52),d=t(53),u=t(55),f=t(54),A=t(56),h=t(60),g=t(61),m=t(62),b=t(63),v=t(57),B=t(51),C=a.getDesc,x=a.setDesc,E=a.create,w=h.get,y=s.Symbol,k=s.JSON,D=k&&k.stringify,S=!1,T=f("_hidden"),M=a.isEnum,j=p("symbol-registry"),_=p("symbols"),O="function"==typeof y,z=Object.prototype,I=o&&l(function(){return 7!=E(x({},"a",{get:function(){return x(this,"a",{value:7}).a}})).a})?function(n,e,t){var a=C(z,e);a&&delete z[e],x(n,e,t),a&&n!==z&&x(z,e,a)}:x,Y=function(n){var e=_[n]=E(y.prototype);return e._k=n,o&&S&&I(z,n,{configurable:!0,set:function(e){i(this,T)&&i(this[T],n)&&(this[T][n]=!1),I(this,n,B(1,e))}}),e},R=function(n){return"symbol"==typeof n},q=function(n,e,t){return t&&i(_,e)?(t.enumerable?(i(n,T)&&n[T][e]&&(n[T][e]=!1),t=E(t,{enumerable:B(0,!1)})):(i(n,T)||x(n,T,B(1,{})),n[T][e]=!0),I(n,e,t)):x(n,e,t)},L=function(n,e){b(n);for(var t,a=g(e=v(e)),s=0,i=a.length;i>s;)q(n,t=a[s++],e[t]);return n},F=function(n,e){return void 0===e?E(n):L(E(n),e)},N=function(n){var e=M.call(this,n);return!(e||!i(this,n)||!i(_,n)||i(this,T)&&this[T][n])||e},U=function(n,e){var t=C(n=v(n),e);return!t||!i(_,e)||i(n,T)&&n[T][e]||(t.enumerable=!0),t},W=function(n){for(var e,t=w(v(n)),a=[],s=0;t.length>s;)i(_,e=t[s++])||e==T||a.push(e);return a},P=function(n){for(var e,t=w(v(n)),a=[],s=0;t.length>s;)i(_,e=t[s++])&&a.push(_[e]);return a},Z=function(n){if(void 0!==n&&!R(n)){for(var e,t,a=[n],s=1,i=arguments;i.length>s;)a.push(i[s++]);return e=a[1],"function"==typeof e&&(t=e),!t&&m(e)||(e=function(n,e){if(t&&(e=t.call(this,n,e)),!R(e))return e}),a[1]=e,D.apply(k,a)}},J=l(function(){var n=y();return"[null]"!=D([n])||"{}"!=D({a:n})||"{}"!=D(Object(n))});O||(y=function(){if(R(this))throw TypeError("Symbol is not a constructor");return Y(u(arguments.length>0?arguments[0]:void 0))},c(y.prototype,"toString",function(){return this._k}),R=function(n){return n instanceof y},a.create=F,a.isEnum=N,a.getDesc=U,a.setDesc=q,a.setDescs=L,a.getNames=h.get=W,a.getSymbols=P,o&&!t(65)&&c(z,"propertyIsEnumerable",N,!0));var X={"for":function(n){return i(j,n+="")?j[n]:j[n]=y(n)},keyFor:function(n){return A(j,n)},useSetter:function(){S=!0},useSimple:function(){S=!1}};a.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),function(n){var e=f(n);X[n]=O?e:Y(e)}),S=!0,r(r.G+r.W,{Symbol:y}),r(r.S,"Symbol",X),r(r.S+r.F*!O,"Object",{create:F,defineProperty:q,defineProperties:L,getOwnPropertyDescriptor:U,getOwnPropertyNames:W,getOwnPropertySymbols:P}),k&&r(r.S+r.F*(!O||J),"JSON",{stringify:Z}),d(y,"Symbol"),d(Math,"Math",!0),d(s.JSON,"JSON",!0)},function(n,e){var t=Object;n.exports={create:t.create,getProto:t.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:t.getOwnPropertyDescriptor,setDesc:t.defineProperty,setDescs:t.defineProperties,getKeys:t.keys,getNames:t.getOwnPropertyNames,getSymbols:t.getOwnPropertySymbols,each:[].forEach}},function(n,e){var t={}.hasOwnProperty;n.exports=function(n,e){return t.call(n,e)}},function(n,e,t){n.exports=!t(16)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(n,e,t){n.exports=t(50)},function(n,e,t){var a=t(46),s=t(51);n.exports=t(48)?function(n,e,t){return a.setDesc(n,e,s(1,t))}:function(n,e,t){return n[e]=t,n}},function(n,e){n.exports=function(n,e){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:e}}},function(n,e,t){var a=t(12),s="__core-js_shared__",i=a[s]||(a[s]={});n.exports=function(n){return i[n]||(i[n]={})}},function(n,e,t){var a=t(46).setDesc,s=t(47),i=t(54)("toStringTag");n.exports=function(n,e,t){n&&!s(n=t?n:n.prototype,i)&&a(n,i,{configurable:!0,value:e})}},function(n,e,t){var a=t(52)("wks"),s=t(55),i=t(12).Symbol;n.exports=function(n){return a[n]||(a[n]=i&&i[n]||(i||s)("Symbol."+n))}},function(n,e){var t=0,a=Math.random();n.exports=function(n){return"Symbol(".concat(void 0===n?"":n,")_",(++t+a).toString(36))}},function(n,e,t){var a=t(46),s=t(57);n.exports=function(n,e){for(var t,i=s(n),o=a.getKeys(i),r=o.length,c=0;r>c;)if(i[t=o[c++]]===e)return t}},function(n,e,t){var a=t(58),s=t(9);n.exports=function(n){return a(s(n))}},function(n,e,t){var a=t(59);n.exports=Object("z").propertyIsEnumerable(0)?Object:function(n){return"String"==a(n)?n.split(""):Object(n)}},function(n,e){var t={}.toString;n.exports=function(n){return t.call(n).slice(8,-1)}},function(n,e,t){var a=t(57),s=t(46).getNames,i={}.toString,o="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],r=function(n){try{return s(n)}catch(e){return o.slice()}};n.exports.get=function(n){return o&&"[object Window]"==i.call(n)?r(n):s(a(n))}},function(n,e,t){var a=t(46);n.exports=function(n){var e=a.getKeys(n),t=a.getSymbols;if(t)for(var s,i=t(n),o=a.isEnum,r=0;i.length>r;)o.call(n,s=i[r++])&&e.push(s);return e}},function(n,e,t){var a=t(59);n.exports=Array.isArray||function(n){return"Array"==a(n)}},function(n,e,t){var a=t(64);n.exports=function(n){if(!a(n))throw TypeError(n+" is not an object!");return n}},function(n,e){n.exports=function(n){return"object"==typeof n?null!==n:"function"==typeof n}},function(n,e){n.exports=!0},function(n,e){},,function(n,e,t){var a,s;a=t(69),s=t(75),n.exports=a||{},n.exports.__esModule&&(n.exports=n.exports["default"]),s&&(("function"==typeof n.exports?n.exports.options:n.exports).template=s)},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={replace:!0,props:["hdTitle","pageType","showMenu","showFilter"],ready:function(){},data:function(){return{}},methods:{goBack:function(){window.history.go(-1)},toggleMenu:function(){this.showMenu=!this.showMenu},closeMenu:function(){this.showMenu=!this.showMenu},toggleFilter:function(){this.showFilter=!this.showFilter},closeFilter:function(){this.showFilter=!this.showFilter}},components:{userInfo:t(70)}}},function(n,e,t){var a,s;t(71),a=t(73),s=t(74),n.exports=a||{},n.exports.__esModule&&(n.exports=n.exports["default"]),s&&(("function"==typeof n.exports?n.exports.options:n.exports).template=s)},function(n,e,t){var a=t(72);"string"==typeof a&&(a=[[n.id,a,""]]);t(27)(a,{});a.locals&&(n.exports=a.locals)},function(n,e,t){e=n.exports=t(26)(),e.push([n.id,"\n\n","",{version:3,sources:[],names:[],mappings:"",file:"user-info.vue",sourceRoot:"webpack://"}])},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=t(21);e["default"]={replace:!0,data:function(){var n="";return a.isLogin()&&(n=a.getCookie("nick_name")),{nickname:n||"",avatar_url:localStorage.avatar?localStorage.avatar+"_s120":""}},methods:{goEnter:function(){var n=window.location.protocol+"//"+window.location.host+"/login.html?redirect="+encodeURIComponent(this.$route.path);this.location.href=n},goUser:function(){this.$route.router.go({name:"profile",params:{id:"me"}})}}}},function(n,e){n.exports='\n    <div class="user-info">\n        <!-- 未登录 -->\n        <div class="menu-profile" v-if="!nickname" @click="goEnter">\n            <span class="iconfont icon-account"></span>          \n            <span class="login-info">\n            请登录\n            </span>\n        </div>\n        <!-- 已登录 -->\n        <div class="menu-profile" v-if="nickname" @click="goUser">\n            <div class="avatar"><img v-if="avatar_url" :src="avatar_url"></div>\n            <span class="login-info">\n                {{nickname}}\n            </span>\n        </div>\n    </div>\n'},function(n,e){n.exports='\n    <div class="page-cover" v-if="showMenu" @click="closeMenu">\n    </div>\n\n    <header id="header" class="header-fixed">\n        <h1>{{hdTitle}}</h1>\n        <a href="javascript:;" class="menu-back" v-if="pageType==\'chat\'||pageType==\'profile\'||pageType==\'asklist\'" @click="goBack"></a>\n        <a href="javascript:;" class="menu-trigger" v-else @click="toggleMenu"></a>\n        <a href="javascript:;" class="menu-right menu-filter" v-if="pageType==\'list\'" @click="toggleFilter">\n            <span class="iconfont icon-filter"></span>\n        </a>\n    </header>\n\n    <nav id="sideBar" class="menu" :class="{\'show\':showMenu}">      \n        <user-info></user-info>\n        <ul>\n            <li class="menu-item" :class="{\'current\':pageType==\'list\'}" v-link="{name:\'list\'}" @click="closeMenu">\n                <span class="iconfont icon-followed"></span>发现\n            </li>\n            <li class="menu-item" :class="{\'current\':pageType==\'message\'}" v-link="{name:\'message\'}" @click="closeMenu">\n                <span class="iconfont icon-message"></span>消息\n            </li>\n            <li class="menu-item" :class="{\'current\':pageType==\'add\'}" v-link="{name:\'add\'}" @click="closeMenu">\n                <span class="iconfont icon-send"></span>发起约会\n            </li>\n        </ul>\n        <a class="menu-set" href="/login.html">\n            <span class="iconfont icon-set"></span>\n            退出\n        </a>\n    </nav>\n\n    <div class="g-panel" :class="{\'open\':showFilter}">\n        <ul class="tag-list">\n            <li class="tag-item" v-link="{\'name\':\'list\',query:{tab:\'2\'}}" @click="closeFilter">\n                <span class="iconfont icon-coffee"></span>喝咖啡/茶\n            </li>\n            <li class="tag-item" v-link="{\'name\':\'list\',query:{tab:\'3\'}}" @click="closeFilter">\n                <span class="iconfont icon-food"></span>美食\n            </li>\n            <li class="tag-item" v-link="{\'name\':\'list\',query:{tab:\'4\'}}" @click="closeFilter">\n                <span class="iconfont icon-film"></span>看电影\n            </li>\n            <li class="tag-item" v-link="{\'name\':\'list\',query:{tab:\'11\'}}" @click="closeFilter">\n                <span class="iconfont icon-flight"></span>同行\n            </li>\n            <li class="tag-item" v-link="{\'name\':\'list\',query:{tab:\'5\'}}" @click="closeFilter">\n                <span class="iconfont icon-run"></span>跑步\n            </li>\n            <li class="tag-item" v-link="{\'name\':\'list\',query:{tab:\'7\'}}" @click="closeFilter">\n                <span class="iconfont icon-badminton"></span>羽毛球\n            </li>\n            <li class="tag-item" v-link="{\'name\':\'list\',query:{tab:\'8\'}}" @click="closeFilter">\n                <span class="iconfont icon-riding"></span>骑行\n            </li>\n            <li class="tag-item" v-link="{\'name\':\'list\',query:{tab:\'9\'}}" @click="closeFilter">\n                <span class="iconfont icon-drive"></span>自驾\n            </li>\n            <li class="tag-item" v-link="{\'name\':\'list\',query:{tab:\'6\'}}" @click="closeFilter">\n                <span class="iconfont icon-photo"></span>摄影\n            </li>\n            <li class="tag-item" v-link="{\'name\':\'list\',query:{tab:\'1\'}}" @click="closeFilter">\n                <span class="iconfont icon-lquote"></span>其他\n            </li>\n        </ul>\n        <div class="close-panel" @click="closeFilter">\n            <span class="iconfont icon-no"></span>\n        </div>\n    </div>\n'},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(n,e,t){var a,s;t(104),a=t(106),s=t(107),n.exports=a||{},n.exports.__esModule&&(n.exports=n.exports["default"]),s&&(("function"==typeof n.exports?n.exports.options:n.exports).template=s)},function(n,e,t){var a=t(105);"string"==typeof a&&(a=[[n.id,a,""]]);t(27)(a,{});a.locals&&(n.exports=a.locals)},function(n,e,t){e=n.exports=t(26)(),e.push([n.id,'.chat-window button:focus {\n  -webkit-tap-highlight-color: rgba(255, 255, 255, 0);\n  -webkit-tap-highlight-color: transparent;\n  outline: none;\n}\n.chat-messages {\n  height: 460px;\n  overflow-x: hidden;\n  overflow-y: auto;\n  width: 100%;\n  position: relative;\n  background: #ecf0f1;\n}\n.chat-messages-list {\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n  width: 100%;\n  padding: 60px 10px;\n  line-height: 1.4;\n  box-sizing: border-box;\n}\n.chat-message {\n  position: relative;\n  font-size: 0;\n  margin-bottom: 10px;\n  padding-left: 40px;\n}\n.chat-message .chat-message-avatar {\n  position: absolute;\n  z-index: 9;\n  left: 0;\n  top: 0;\n  width: 35px;\n  height: 35px;\n  overflow: hidden;\n  border-radius: 50%;\n}\n.chat-message .chat-message-avatar img {\n  display: block;\n  width: 35px;\n  height: 35px;\n}\n.chat-message .chat-message-bubble {\n  display: inline-block;\n  font-size: 14px;\n  max-width: 280px;\n  background: #fff;\n  padding: 8px 15px;\n  border-radius: 18px;\n  word-break: break-word;\n  box-sizing: border-box;\n}\n.chat-time {\n  margin: 10px 0;\n  text-align: center;\n}\n.chat-time span {\n  display: inline-block;\n  padding: 3px 5px;\n  font-size: 12px;\n  color: #fff;\n  background-color: #bdc3c7;\n  border-radius: 5px;\n}\n.chat-message-effect {\n  position: absolute;\n}\n.chat-message-self.chat-message-merge-start .chat-message-bubble {\n  border-bottom-right-radius: 0;\n}\n.chat-message-self.chat-message-merge-middle .chat-message-bubble {\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n}\n.chat-message-self.chat-message-merge-end .chat-message-bubble {\n  border-top-right-radius: 0;\n}\n.chat-message-self {\n  text-align: right;\n  padding-left: 0;\n  padding-right: 40px;\n}\n.chat-message-self .chat-message-avatar {\n  left: auto;\n  right: 0;\n}\n.chat-message-self .chat-message-bubble,\n.chat-message-effect .chat-message-bubble {\n  background: #61c8d1;\n  color: #fff;\n  text-align: left;\n}\n.chat-message-theme {\n  margin-bottom: 20px;\n  padding-left: 0;\n  text-align: center;\n}\n.chat-message-theme .chat-message-bubble {\n  text-align: left;\n}\n.chat-message-theme .chat-message-bubble .label {\n  font-size: 14px;\n  color: #61c8d1;\n}\n.chat-message-theme .chat-message-bubble .what,\n.chat-message-theme .chat-message-bubble .time {\n  margin-right: 10px;\n  color: #999;\n  font-size: 12px;\n}\n.chat-message-theme .chat-message-bubble .what .iconfont,\n.chat-message-theme .chat-message-bubble .time .iconfont {\n  margin-right: 3px;\n  font-size: 12px;\n}\n.chat-input-bar {\n  position: relative;\n  background: #61c8d1;\n}\n.chat-input-wrapper {\n  position: relative;\n  z-index: 2;\n  padding: 10px 0;\n  border-radius: 0 0 2px 2px;\n  color: #fff;\n}\n.chat-input-wrapper,\n.chat-send {\n  display: -ms-flexbox;\n  display: -webkit-box;\n  display: flex;\n  -ms-flex-wrap: wrap;\n  flex-wrap: wrap;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  font-size: 16px;\n}\n.chat-input-tool {\n  background: transparent;\n  border: none;\n  padding: 0 20px;\n  color: inherit;\n}\n.chat-input {\n  box-sizing: border-box;\n  outline: none;\n  resize: none;\n  overflow: hidden;\n  min-height: 38px;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  font-size: 14px;\n  padding: 10px 0 10px 20px;\n  color: #fff;\n  cursor: text;\n}\n.chat-input:empty::before {\n  content: "\\8BF4\\70B9\\4EC0\\4E48\\5427...";\n}\n.chat-input:focus::before {\n  content: "";\n}\n.chat-send {\n  background: transparent;\n  border: none;\n  position: relative;\n  overflow: hidden;\n  padding: 0 20px;\n  color: #fff;\n  -webkit-transition: color 0.6s;\n  transition: color 0.6s;\n}\n.chat-input:empty + .chat-send {\n  color: #fff;\n}\n.chat-send > i {\n  position: relative;\n}\n.chat-effect-container {\n  position: absolute;\n  top: -100px;\n  width: 100%;\n}\n.chat-effect-bar {\n  background: #61c8d1;\n  position: absolute;\n  top: 100px;\n  width: 100%;\n  height: 40px;\n  -webkit-transform: rotateY(0);\n  transform: rotateY(0);\n}\n.chat-effect-dots {\n  position: absolute;\n}\n.chat-effect-dot {\n  background: #61c8d1;\n  position: absolute;\n  width: 15px;\n  height: 15px;\n  border-radius: 100%;\n}\n.chat-info-container {\n  position: absolute;\n  top: -20px;\n  font-size: 12px;\n  color: #2B8EC2;\n}\n.chat-info-typing {\n  position: absolute;\n  left: 80px;\n  white-space: nowrap;\n}\n',"",{version:3,sources:["/./src/views/chat.vue.style"],names:[],mappings:"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",file:"chat.vue",sourcesContent:['.chat-window button:focus {\n  -webkit-tap-highlight-color: rgba(255, 255, 255, 0);\n  -webkit-tap-highlight-color: transparent;\n  outline: none;\n}\n.chat-messages {\n  height: 460px;\n  overflow-x: hidden;\n  overflow-y: auto;\n  width: 100%;\n  position: relative;\n  background: #ecf0f1;\n}\n.chat-messages-list {\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n  width: 100%;\n  padding: 60px 10px;\n  line-height: 1.4;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.chat-message {\n  position: relative;\n  font-size: 0;\n  margin-bottom: 10px;\n  padding-left: 40px;\n}\n.chat-message .chat-message-avatar {\n  position: absolute;\n  z-index: 9;\n  left: 0;\n  top: 0;\n  width: 35px;\n  height: 35px;\n  overflow: hidden;\n  -webkit-border-radius: 50%;\n  border-radius: 50%;\n}\n.chat-message .chat-message-avatar img {\n  display: block;\n  width: 35px;\n  height: 35px;\n}\n.chat-message .chat-message-bubble {\n  display: inline-block;\n  font-size: 14px;\n  max-width: 280px;\n  background: #fff;\n  padding: 8px 15px;\n  border-radius: 18px;\n  word-break: break-word;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.chat-time {\n  margin: 10px 0;\n  text-align: center;\n}\n.chat-time span {\n  display: inline-block;\n  padding: 3px 5px;\n  font-size: 12px;\n  color: #fff;\n  background-color: #bdc3c7;\n  border-radius: 5px;\n}\n.chat-message-effect {\n  position: absolute;\n}\n.chat-message-self.chat-message-merge-start .chat-message-bubble {\n  border-bottom-right-radius: 0;\n}\n.chat-message-self.chat-message-merge-middle .chat-message-bubble {\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n}\n.chat-message-self.chat-message-merge-end .chat-message-bubble {\n  border-top-right-radius: 0;\n}\n.chat-message-self {\n  text-align: right;\n  padding-left: 0;\n  padding-right: 40px;\n}\n.chat-message-self .chat-message-avatar {\n  left: auto;\n  right: 0;\n}\n.chat-message-self .chat-message-bubble,\n.chat-message-effect .chat-message-bubble {\n  background: #61c8d1;\n  color: #fff;\n  text-align: left;\n}\n.chat-message-theme {\n  margin-bottom: 20px;\n  padding-left: 0;\n  text-align: center;\n}\n.chat-message-theme .chat-message-bubble {\n  text-align: left;\n}\n.chat-message-theme .chat-message-bubble .label {\n  font-size: 14px;\n  color: #61c8d1;\n}\n.chat-message-theme .chat-message-bubble .what,\n.chat-message-theme .chat-message-bubble .time {\n  margin-right: 10px;\n  color: #999;\n  font-size: 12px;\n}\n.chat-message-theme .chat-message-bubble .what .iconfont,\n.chat-message-theme .chat-message-bubble .time .iconfont {\n  margin-right: 3px;\n  font-size: 12px;\n}\n.chat-input-bar {\n  position: relative;\n  background: #61c8d1;\n}\n.chat-input-wrapper {\n  position: relative;\n  z-index: 2;\n  padding: 10px 0;\n  border-radius: 0 0 2px 2px;\n  color: #fff;\n}\n.chat-input-wrapper,\n.chat-send {\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-flex-wrap: wrap;\n  -ms-flex-wrap: wrap;\n  flex-wrap: wrap;\n  -webkit-justify-content: center;\n  justify-content: center;\n  font-size: 16px;\n}\n.chat-input-tool {\n  background: transparent;\n  border: none;\n  padding: 0 20px;\n  color: inherit;\n}\n.chat-input {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  outline: none;\n  resize: none;\n  overflow: hidden;\n  min-height: 38px;\n  -webkit-flex: 1;\n  flex: 1;\n  font-size: 14px;\n  padding: 10px 0 10px 20px;\n  color: #fff;\n  cursor: text;\n}\n.chat-input:empty::before {\n  content: "说点什么吧...";\n}\n.chat-input:focus::before {\n  content: "";\n}\n.chat-send {\n  background: transparent;\n  border: none;\n  position: relative;\n  overflow: hidden;\n  padding: 0 20px;\n  color: #fff;\n  -webkit-transition: color 0.6s;\n  transition: color 0.6s;\n}\n.chat-input:empty + .chat-send {\n  color: #fff;\n}\n.chat-send > i {\n  position: relative;\n}\n.chat-effect-container {\n  position: absolute;\n  top: -100px;\n  width: 100%;\n}\n.chat-effect-bar {\n  background: #61c8d1;\n  position: absolute;\n  top: 100px;\n  width: 100%;\n  height: 40px;\n  -webkit-transform: rotateY(0);\n  transform: rotateY(0);\n}\n.chat-effect-dots {\n  position: absolute;\n}\n.chat-effect-dot {\n  background: #61c8d1;\n  position: absolute;\n  width: 15px;\n  height: 15px;\n  border-radius: 100%;\n}\n.chat-info-container {\n  position: absolute;\n  top: -20px;\n  font-size: 12px;\n  color: #2B8EC2;\n}\n.chat-info-typing {\n  position: absolute;\n  left: 80px;\n  white-space: nowrap;\n}\n'],sourceRoot:"webpack://"}])},function(n,e,t){(function(n){"use strict";function a(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(e,"__esModule",{value:!0});var s=t(34),i=a(s),o=t(21),r=t(36),c=t(37),l=t(38),p=t(41),d=null;e["default"]={ready:function(){},attached:function(){var n=this;setTimeout(function(){n.updateChatHeight()},100)},data:function(){return{showMenu:!1,pageType:"chat",hdTitle:"聊天",userId:"",datingId:"",detail:{},messageList:[]}},route:{data:function(n){var e=this;this.userId=n.to.params.uid,this.datingId=n.to.params.did,this.getDetail(),this.getData(function(){"http:"==window.location.protocol?e.connect("ws://"+window.location.host+"/websocket/chat/"+e.datingId+"/"+e.userId):e.connect("wss://"+window.location.host+"/websocket/chat/"+e.datingId+"/"+e.userId)})}},methods:{connect:function(n){var e=this;if("WebSocket"in window)d=new WebSocket(n);else{if(!("MozWebSocket"in window))return void c.show({type:"error",title:"Error: WebSocket is not supported by this browser."
});d=new MozWebSocket(n)}d.onopen=function(){e.initEvent()},d.onclose=function(){document.getElementById("message").onkeydown=null,c.show({type:"error",title:"Info: WebSocket closed."})},d.onmessage=function(n){var t=JSON.parse(n.data);console.log(t),e.messageList.push(t)}},sendMessage:function(){var e=this,t=n.trim(n("#message").text()),a={message:t,userId:e.userId,datingId:e.datingId};t&&e.userId&&e.datingId&&(d.send((0,i["default"])(a)),n("#message").text(""),o.isWeixin()||e.updateChatHeight())},addMessage:function(e){var t=this,a=n(".chat-messages"),s=n(".chat-messages-list"),i=e.sendTime.substr(0,19);if(i=i.replace(/-/g,"/"),""==lastSendTime||""!=lastSendTime&&new Date(i).getTime()-lastSendTime>18e4){var o=t.handleTime(i);n("<li/>").addClass("chat-time").html("<span>"+o+"</span>").appendTo(s)}lastSendTime=new Date(i).getTime();var r=n("<li/>").addClass("chat-message "+(e.self?"chat-message-self":"chat-message-friend")).appendTo(s),c=n("<div/>").addClass("chat-message-avatar").appendTo(r),l=n("<div/>").addClass("chat-message-bubble").appendTo(r);return c.html('<a href="./profile.html?id='+e.fromUserId+'"><img src="'+e.avatar+'_s60" alt="" /></a>'),l.html(e.message||e.msg),a.scrollTop(9999999),{$container:r,$bubble:l}},handleTime:function(n){var e=n.substr(0,19),t=o.strToDate(e),a=t.getFullYear(),s=t.getMonth()+1,i=t.getDate(),r=t.getHours(),c=t.getMinutes(),l=t.getSeconds();return s<10&&(s="0"+s),i<10&&(i="0"+i),r<10&&(r="0"+r),c<10&&(c="0"+c),l<10&&(l="0"+l),a+"年"+s+"月"+i+"日 "+r+":"+c},updateChatHeight:function(){n(".chat-messages").css({height:n(window).height()-n(".chat-input-bar").height()})},initEvent:function(){var e=this;document.addEventListener("DOMContentLoaded",function(){for(var n=document.getElementsByClassName("noscript"),e=0;e<n.length;e++)n[e].parentNode.removeChild(n[e])},!1),document.getElementById("message").onkeydown=function(n){13==n.keyCode&&Chat.sendMessage()},o.isWeixin()||n(".chat-input").on("input",function(){e.updateChatHeight()})},getDetail:function(){var e={2:"icon-coffee",3:"icon-food",4:"icon-film",5:"icon-run",6:"icon-photo",7:"icon-badminton",8:"icon-riding",9:"icon-drive",11:"icon-flight",1:"icon-lquote"},t={2:"喝咖啡/茶",3:"美食",4:"看电影",5:"跑步",6:"摄影",7:"羽毛球",8:"骑行",9:"自驾",11:"同行",1:"其他"};apiData={userId:userId,datingId:datingId},p.show(),l.get(r.datingDetailApi,apiData,function(a){if(p.hide(),a.result&&a.result.datingInfo){var s=a.result.datingInfo,i=s.datingTime||"",o=s.typeId;if(""!==i)var r=i.substr(0,10);else var r="随时";var l='<li class="chat-message chat-message-theme"><div class="chat-message-bubble"><span class="label"><span class="iconfont icon-lquote"></span> 约吗？</span><br /><span>'+s.article+'</span><br /><span class="what"><span class="iconfont '+e[o]+'"></span>'+t[o]+'</span><span class="time"><span class="iconfont icon-calendar"></span>'+r+"</span></div></li>";n(".chat-messages-list").prepend(l)}else c.show({type:"error",title:"返回的约会数据格式有问题"})},function(n){c.show({type:"error",title:n.resultMsg})})},getData:function(n){var e=this;apiData={userId:e.userId,datingId:e.datingId},p.show(),l.get(r.chatRecordsApi,apiData,function(t){p.hide(),t.result&&t.result.messageList?e.messageList=t.result.messageList:c.show({type:"error",title:"返回的聊天数据格式有问题"}),n&&n()},function(e){p.hide(),c.show({type:"error",title:e.resultMsg}),n&&n()})}},components:{nvHead:t(68)}}}).call(e,t(4))},function(n,e){n.exports='\n    <!-- 全局header -->\n    <nv-head :page-type="pageType"\n            :show-menu="showMenu" :hd-title="hdTitle">\n    </nv-head>\n\n    <section class="page-content" transition="slide-right">\n\t    <div class="chat-window">\n\t        <div class="chat-messages">\n\t            <ol class="chat-messages-list">\n\t                <li class="chat-message chat-message-theme">\n\t                \t<div class="chat-message-bubble">\n\t                \t\t<span class="label">\n\t                \t\t\t<span class="iconfont icon-lquote"></span> 约吗？\n\t                \t\t</span>\n\t                \t\t<br>\n\t                \t\t<span>十一去阳澄湖吃大闸蟹，能吃爽</span>\n\t                \t\t<br>\n\t                \t\t<span class="what"><span class="iconfont icon-food"></span>美食</span>\n\t                \t\t<span class="time"><span class="iconfont icon-calendar"></span>2016-10-01</span>\n\t                \t</div>\n\t                </li>\n\t                <li class="chat-time"><span>2016年09月30日 11:39</span></li>\n\t                <li class="chat-message chat-message-friend" v-for="chat in messageList">\n\t                \t<div class="chat-message-avatar">\n\t                \t\t<a href="./profile.html?id=80">\n\t                \t\t\t<img src="http://www.yuema.us/upload/玄悟/04e204117f1b45d5832f995895120d74.jpg_s60" alt="">\n\t                \t\t</a>\n\t                \t</div>\n\t                \t<div class="chat-message-bubble">我们约会吧~</div>\n\t                </li>\n\t            </ol>\n\t        </div>\n\t        <div class="chat-input-bar">\n\t            <div class="chat-info-container">\n\n\t            </div>\n\t            <div class="chat-effect-container">\n\t                <div class="chat-effect-bar"></div>\n\t            </div>\n\t            <div class="chat-input-wrapper">\n\t                <!-- <textarea class="chat-input" id="message" placeholder="" autofocus></textarea> -->\n\t                <div class="chat-input" id="message" contenteditable=""></div>\n\t                <button class="chat-send" id="sendBtn" @click="sendMessage">\n\t                    <span class="iconfont icon-send"></span>\n\t                </button>\n\t            </div>\n\t        </div>\n\t    </div>\n\t</div>\n</template>'}]));