webpackJsonp([7,8],{26:function(n,e){n.exports=function(){var n=[];return n.toString=function(){for(var n=[],e=0;e<this.length;e++){var t=this[e];t[2]?n.push("@media "+t[2]+"{"+t[1]+"}"):n.push(t[1])}return n.join("")},n.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var a={},s=0;s<this.length;s++){var i=this[s][0];"number"==typeof i&&(a[i]=!0)}for(s=0;s<e.length;s++){var o=e[s];"number"==typeof o[0]&&a[o[0]]||(t&&!o[2]?o[2]=t:t&&(o[2]="("+o[2]+") and ("+t+")"),n.push(o))}},n}},27:function(n,e,t){function a(n,e){for(var t=0;t<n.length;t++){var a=n[t],s=u[a.id];if(s){s.refs++;for(var i=0;i<s.parts.length;i++)s.parts[i](a.parts[i]);for(;i<a.parts.length;i++)s.parts.push(l(a.parts[i],e))}else{for(var o=[],i=0;i<a.parts.length;i++)o.push(l(a.parts[i],e));u[a.id]={id:a.id,refs:1,parts:o}}}}function s(n){for(var e=[],t={},a=0;a<n.length;a++){var s=n[a],i=s[0],o=s[1],r=s[2],c=s[3],l={css:o,media:r,sourceMap:c};t[i]?t[i].parts.push(l):e.push(t[i]={id:i,parts:[l]})}return e}function i(n,e){var t=f(),a=B[B.length-1];if("top"===n.insertAt)a?a.nextSibling?t.insertBefore(e,a.nextSibling):t.appendChild(e):t.insertBefore(e,t.firstChild),B.push(e);else{if("bottom"!==n.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");t.appendChild(e)}}function o(n){n.parentNode.removeChild(n);var e=B.indexOf(n);e>=0&&B.splice(e,1)}function r(n){var e=document.createElement("style");return e.type="text/css",i(n,e),e}function c(n){var e=document.createElement("link");return e.rel="stylesheet",i(n,e),e}function l(n,e){var t,a,s;if(e.singleton){var i=b++;t=m||(m=r(e)),a=d.bind(null,t,i,!1),s=d.bind(null,t,i,!0)}else n.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(t=c(e),a=A.bind(null,t),s=function(){o(t),t.href&&URL.revokeObjectURL(t.href)}):(t=r(e),a=p.bind(null,t),s=function(){o(t)});return a(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap)return;a(n=e)}else s()}}function d(n,e,t,a){var s=t?"":a.css;if(n.styleSheet)n.styleSheet.cssText=C(e,s);else{var i=document.createTextNode(s),o=n.childNodes;o[e]&&n.removeChild(o[e]),o.length?n.insertBefore(i,o[e]):n.appendChild(i)}}function p(n,e){var t=e.css,a=e.media;if(a&&n.setAttribute("media",a),n.styleSheet)n.styleSheet.cssText=t;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(t))}}function A(n,e){var t=e.css,a=e.sourceMap;a&&(t+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var s=new Blob([t],{type:"text/css"}),i=n.href;n.href=URL.createObjectURL(s),i&&URL.revokeObjectURL(i)}var u={},h=function(n){var e;return function(){return"undefined"==typeof e&&(e=n.apply(this,arguments)),e}},g=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),f=h(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,b=0,B=[];n.exports=function(n,e){if("object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},"undefined"==typeof e.singleton&&(e.singleton=g()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var t=s(n);return a(t,e),function(n){for(var i=[],o=0;o<t.length;o++){var r=t[o],c=u[r.id];c.refs--,i.push(c)}if(n){var l=s(n);a(l,e)}for(var o=0;o<i.length;o++){var c=i[o];if(0===c.refs){for(var d=0;d<c.parts.length;d++)c.parts[d]();delete u[c.id]}}}};var C=function(){var n=[];return function(e,t){return n[e]=t,n.filter(Boolean).join("\n")}}()},34:function(n,e,t){n.exports={"default":t(35),__esModule:!0}},35:function(n,e,t){var a=t(13);n.exports=function(n){return(a.JSON&&a.JSON.stringify||JSON.stringify).apply(JSON,arguments)}},36:function(n,e){"use strict";var t=window.location.protocol+"//"+window.location.host+"/";"w.yuema.us"===window.location.hostname&&(t=window.location.protocol+"//www.yuema.us/");var a={loginApi:t+"open-api/login",registApi:t+"open-api/simple-regist",perfectApi:t+"action/user/update",provincesListApi:t+"open-api/query/provinces-list",citiesListApi:t+"open-api/query/cities-list",addressesListApi:t+"open-api/query/addresses-list",postDatingApi:t+"action/dating/post",requestDatingApi:t+"action/dating/request",acceptDatingApi:t+"action/dating/accept",listApi:t+"open-api/query/dating/dating-list",profileApi:t+"open-api/query/home-info",myRequestApi:t+"action/query/dating/my-request-dating-list",datingDetailApi:t+"open-api/query/dating/dating-info",chatRecordsApi:t+"action/query/message/message-list",chatListApi:t+"action/query/chatting/my-chatting-list"};n.exports=a},37:function(n,e,t){(function(e){"use strict";var t=e("body"),a=e('<div class="dialog-overlay"></div>'),s=e('<div class="dialog"></div>');n.exports={_initModal:function(){a=e('<div class="dialog-overlay"></div>'),s=e('<div class="dialog dialog-no-buttons"></div>'),t.append(a),t.append(s)},_hide:function(){s.addClass("dialog-out"),a.removeClass("dialog-overlay-visible"),setTimeout(function(){a.remove(),s.remove()},200)},_show:function(){a.addClass("dialog-overlay-visible"),s.addClass("dialog-in")},_position:function(){var n=parseInt(s.height())/2;s.css("marginTop","-"+n+"px")},show:function(n){var t=this,a=e('<div class="dialog-inner"></div>');t._initModal();var i=n.text||"",o=n.title||"",r=n.type||"success",c=n.callback||null;"success"===r&&""===o&&(o="成功"),"error"===r&&""===o&&(o="失败");var l=e('<div class="iconfont icon-'+r+'"></div>'),d=e('<div class="dialog-title">'+o+"</div>"),p=e('<div class="dialog-text">'+i+"</div>");a.append(l),a.append(d),a.append(p),s.append(a),setTimeout(function(){t._hide(),c&&c()},2e3),t._position(),t._show()}}}).call(e,t(4))},38:function(n,e,t){(function(e){"use strict";var t=function(n){1==n.isRedirect&&setTimeout(function(){window.location.href=n.redirectURL},2e3)};n.exports={post:function(n,a,s,i,o){e.ajax({url:n,data:a,type:"post",dataType:"json",success:function(n){o||t(n),"SUCCESS"===n.resultCode?s(n):i(n)},error:function(n){var e=(n.status||500,"对不起，服务器正在维护，请稍后再试...");switch(n.status){case 404:e="对不起，你访问的接口不存在...";break;case 403:e="对不起，你没有权限访问该接口...";break;case 500:e="对不起，正在进行服务器维护，请稍后再来...";break;case 502:e="对不起，你访问的接口程序出错...";break;case 503:e="对不起，你访问的接口后端异常...";break;default:e="对不起，服务器正在维护，请稍后再试..."}var n={isRedirect:!1,result:{},resultCode:"SERVER ERROR",resultMsg:e};i(n)}})},get:function(n,a,s,i){e.ajax({url:n,data:a,type:"get",dataType:"json",success:function(n){t(n),"SUCCESS"===n.resultCode?s(n):i(n)},error:function(n){var e=(n.status||500,"对不起，服务器正在维护，请稍后再试...");switch(n.status){case 404:e="对不起，你访问的接口不存在...";break;case 403:e="对不起，你没有权限访问该接口...";break;case 500:e="对不起，正在进行服务器维护，请稍后再来...";break;case 502:e="对不起，你访问的接口程序出错...";break;case 503:e="对不起，你访问的接口后端异常...";break;default:e="对不起，服务器正在维护，请稍后再试..."}var n={isRedirect:!1,result:{},resultCode:"ERROR",resultMsg:e};i(n)}})}}}).call(e,t(4))},67:function(n,e,t){var a,s;a=t(68),s=t(74),n.exports=a||{},n.exports.__esModule&&(n.exports=n.exports["default"]),s&&(("function"==typeof n.exports?n.exports.options:n.exports).template=s)},68:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={replace:!0,props:["hdTitle","pageType","showMenu","curTab","menuBack"],ready:function(){},data:function(){return{showFilter:!1}},methods:{goBack:function(){window.history.go(-1)},toggleMenu:function(){this.showMenu=!this.showMenu},closeMenu:function(){this.showMenu=!this.showMenu},toggleFilter:function(){this.showFilter=!this.showFilter},closeFilter:function(){this.showFilter=!1}},components:{userInfo:t(69)}}},69:function(n,e,t){var a,s;t(70),a=t(72),s=t(73),n.exports=a||{},n.exports.__esModule&&(n.exports=n.exports["default"]),s&&(("function"==typeof n.exports?n.exports.options:n.exports).template=s)},70:function(n,e,t){var a=t(71);"string"==typeof a&&(a=[[n.id,a,""]]);t(27)(a,{});a.locals&&(n.exports=a.locals)},71:function(n,e,t){e=n.exports=t(26)(),e.push([n.id,"\n\n","",{version:3,sources:[],names:[],mappings:"",file:"user-info.vue",sourceRoot:"webpack://"}])},72:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=t(21);e["default"]={replace:!0,data:function(){var n="";return a.isLogin()&&(n=a.getCookie("nick_name")),{nickname:n||"",avatar_url:localStorage.avatar?localStorage.avatar+"_s120":""}},methods:{goEnter:function(){var n=window.location.protocol+"//"+window.location.host+"/login.html?redirect="+encodeURIComponent(this.$route.path);this.location.href=n},goUser:function(){this.$route.router.go({name:"profile",params:{id:"me"}})}}}},73:function(n,e){n.exports='\n    <div class="user-info">\n        <!-- 未登录 -->\n        <div class="menu-profile" v-if="!nickname" @click="goEnter">\n            <span class="iconfont icon-account"></span>          \n            <span class="login-info">\n            请登录\n            </span>\n        </div>\n        <!-- 已登录 -->\n        <div class="menu-profile" v-if="nickname" @click="goUser">\n            <div class="avatar"><img v-if="avatar_url" :src="avatar_url"></div>\n            <span class="login-info">\n                {{nickname}}\n            </span>\n        </div>\n    </div>\n'},74:function(n,e){n.exports='\n    <div class="page-cover" v-if="showMenu" @click="closeMenu">\n    </div>\n\n    <header id="header" class="header-fixed">\n        <h1>{{hdTitle}}</h1>\n        <a href="javascript:;" class="menu-back" v-if="menuBack" @click="goBack"></a>\n        <a href="javascript:;" class="menu-trigger" v-else @click="toggleMenu"></a>\n        <a href="javascript:;" class="menu-right menu-filter" v-if="pageType==\'list\'" @click="toggleFilter">\n            <span class="iconfont icon-filter"></span>\n        </a>\n    </header>\n\n    <nav id="sideBar" class="menu" :class="{\'show\':showMenu}">      \n        <user-info></user-info>\n        <ul>\n            <li class="menu-item" :class="{\'current\':pageType==\'list\'}" v-link="{name:\'list\'}" @click="closeMenu">\n                <span class="iconfont icon-followed"></span>发现\n            </li>\n            <li class="menu-item" :class="{\'current\':pageType==\'message\'}" v-link="{name:\'message\'}" @click="closeMenu">\n                <span class="iconfont icon-message"></span>消息\n            </li>\n            <li class="menu-item" :class="{\'current\':pageType==\'add\'}" v-link="{name:\'add\'}" @click="closeMenu">\n                <span class="iconfont icon-send"></span>发起约会\n            </li>\n        </ul>\n        <a class="menu-set" href="/login.html">\n            <span class="iconfont icon-set"></span>\n            退出\n        </a>\n    </nav>\n\n    <div class="g-panel" :class="{\'open\':showFilter}" v-if="pageType==\'list\'">\n        <ul class="tag-list">\n            <li class="tag-item" :class="curTab==2?\'active\':\'\'" v-link="{\'name\':\'list\',query:{tab:\'2\'}}" @click="closeFilter">\n                <span class="iconfont icon-coffee"></span>喝咖啡/茶\n            </li>\n            <li class="tag-item" :class="curTab==3?\'active\':\'\'" v-link="{\'name\':\'list\',query:{tab:\'3\'}}" @click="closeFilter">\n                <span class="iconfont icon-food"></span>美食\n            </li>\n            <li class="tag-item" :class="curTab==4?\'active\':\'\'" v-link="{\'name\':\'list\',query:{tab:\'4\'}}" @click="closeFilter">\n                <span class="iconfont icon-film"></span>看电影\n            </li>\n            <li class="tag-item" :class="curTab==11?\'active\':\'\'" v-link="{\'name\':\'list\',query:{tab:\'11\'}}" @click="closeFilter">\n                <span class="iconfont icon-flight"></span>同行\n            </li>\n            <li class="tag-item" :class="curTab==5?\'active\':\'\'" v-link="{\'name\':\'list\',query:{tab:\'5\'}}" @click="closeFilter">\n                <span class="iconfont icon-run"></span>跑步\n            </li>\n            <li class="tag-item" :class="curTab==7?\'active\':\'\'" v-link="{\'name\':\'list\',query:{tab:\'7\'}}" @click="closeFilter">\n                <span class="iconfont icon-badminton"></span>羽毛球\n            </li>\n            <li class="tag-item" :class="curTab==8?\'active\':\'\'" v-link="{\'name\':\'list\',query:{tab:\'8\'}}" @click="closeFilter">\n                <span class="iconfont icon-riding"></span>骑行\n            </li>\n            <li class="tag-item" :class="curTab==9?\'active\':\'\'" v-link="{\'name\':\'list\',query:{tab:\'9\'}}" @click="closeFilter">\n                <span class="iconfont icon-drive"></span>自驾\n            </li>\n            <li class="tag-item" :class="curTab==6?\'active\':\'\'" v-link="{\'name\':\'list\',query:{tab:\'6\'}}" @click="closeFilter">\n                <span class="iconfont icon-photo"></span>摄影\n            </li>\n            <li class="tag-item" :class="curTab==1?\'active\':\'\'" v-link="{\'name\':\'list\',query:{tab:\'1\'}}" @click="closeFilter">\n                <span class="iconfont icon-lquote"></span>其他\n            </li>\n        </ul>\n        <div class="close-panel" @click="closeFilter">\n            <span class="iconfont icon-no"></span>\n        </div>\n    </div>\n'},78:function(n,e,t){var a,s;a=t(79),s=t(80),n.exports=a||{},n.exports.__esModule&&(n.exports=n.exports["default"]),s&&(("function"==typeof n.exports?n.exports.options:n.exports).template=s)},79:function(n,e,t){(function(n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={replace:!0,props:["loadType","showLoad","showLoading","loadEnd"],data:function(){return{show:!1}},ready:function(){var e=this;"loadmodal"==this.loadType&&setTimeout(function(){e.show=!0;var t=n(".preloader-indicator-modal"),a=43,s=35;n(".preloader-indicator-modal .preloader").css("marginLeft",a-25+"px"),t.css({marginLeft:"-"+a+"px",marginTop:"-"+s+"px"})},300)}}}).call(e,t(4))},80:function(n,e){n.exports='\n    <div id="loadmore" v-if="loadType==\'loadmore\'" v-show="showLoad">\n        <div class="preloader-label" v-if="showLoading">\n            <span class="preloader"></span>\n            <span class="msg">数据加载中...</span>\n        </div>\n        <div class="preloader-label" v-else>\n            <span v-if="loadEnd">到这里就没有了~</span>\n            <span v-else>上拉加载更多</span>\n        </div>\n    </div>\n\n    <div v-if="loadType==\'loadmodal\'" v-show="showLoad && show" class="preloader-indicator-overlay"></div>\n    <div v-if="loadType==\'loadmodal\'" v-show="showLoad && show" class="preloader-indicator-modal">\n        <span class="preloader preloader-white"></span>\n        <span class="msg">数据加载中...</span>\n    </div>\n'},103:function(n,e,t){var a,s;t(104),a=t(106),s=t(107),n.exports=a||{},n.exports.__esModule&&(n.exports=n.exports["default"]),s&&(("function"==typeof n.exports?n.exports.options:n.exports).template=s)},104:function(n,e,t){var a=t(105);"string"==typeof a&&(a=[[n.id,a,""]]);t(27)(a,{});a.locals&&(n.exports=a.locals)},105:function(n,e,t){e=n.exports=t(26)(),e.push([n.id,'.chat-window button:focus {\n  -webkit-tap-highlight-color: rgba(255, 255, 255, 0);\n  -webkit-tap-highlight-color: transparent;\n  outline: none;\n}\n.chat-messages {\n  height: 460px;\n  overflow-x: hidden;\n  overflow-y: auto;\n  width: 100%;\n  position: relative;\n  background: #ecf0f1;\n}\n.chat-messages-list {\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n  width: 100%;\n  padding: 10px;\n  line-height: 1.4;\n  box-sizing: border-box;\n}\n.chat-message {\n  position: relative;\n  font-size: 0;\n  margin-bottom: 20px;\n  padding-left: 40px;\n}\n.chat-message .chat-message-avatar {\n  position: absolute;\n  z-index: 9;\n  left: 0;\n  top: 0;\n  width: 35px;\n  height: 35px;\n  overflow: hidden;\n  border-radius: 50%;\n}\n.chat-message .chat-message-avatar img {\n  display: block;\n  width: 35px;\n  height: 35px;\n}\n.chat-message .chat-message-bubble {\n  display: inline-block;\n  font-size: 14px;\n  max-width: 280px;\n  background: #fff;\n  padding: 8px 15px;\n  border-radius: 18px;\n  word-break: break-word;\n  box-sizing: border-box;\n}\n.chat-time {\n  position: absolute;\n  top: -15px;\n  left: 0;\n  width: 100%;\n  text-align: center;\n}\n.chat-time span {\n  display: inline-block;\n  font-size: 12px;\n  color: #999;\n}\n.chat-message-effect {\n  position: absolute;\n}\n.chat-message-self.chat-message-merge-start .chat-message-bubble {\n  border-bottom-right-radius: 0;\n}\n.chat-message-self.chat-message-merge-middle .chat-message-bubble {\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n}\n.chat-message-self.chat-message-merge-end .chat-message-bubble {\n  border-top-right-radius: 0;\n}\n.chat-message-self {\n  text-align: right;\n  padding-left: 0;\n  padding-right: 40px;\n}\n.chat-message-self .chat-message-avatar {\n  left: auto;\n  right: 0;\n}\n.chat-message-self .chat-message-bubble,\n.chat-message-effect .chat-message-bubble {\n  background: #61c8d1;\n  color: #fff;\n  text-align: left;\n}\n.chat-message-theme {\n  margin-bottom: 20px;\n  padding-left: 0;\n  text-align: center;\n}\n.chat-message-theme .chat-message-bubble {\n  text-align: left;\n}\n.chat-message-theme .chat-message-bubble .label {\n  font-size: 14px;\n  color: #61c8d1;\n}\n.chat-message-theme .chat-message-bubble .what,\n.chat-message-theme .chat-message-bubble .time {\n  margin-right: 10px;\n  color: #999;\n  font-size: 12px;\n}\n.chat-message-theme .chat-message-bubble .what .iconfont,\n.chat-message-theme .chat-message-bubble .time .iconfont {\n  margin-right: 3px;\n  font-size: 12px;\n}\n.chat-input-bar {\n  position: relative;\n  background: #61c8d1;\n}\n.chat-input-wrapper {\n  position: relative;\n  z-index: 2;\n  padding: 10px 0;\n  border-radius: 0 0 2px 2px;\n  color: #fff;\n}\n.chat-input-wrapper,\n.chat-send {\n  display: -ms-flexbox;\n  display: -webkit-box;\n  display: flex;\n  -ms-flex-wrap: wrap;\n  flex-wrap: wrap;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  font-size: 16px;\n}\n.chat-input-tool {\n  background: transparent;\n  border: none;\n  padding: 0 20px;\n  color: inherit;\n}\n.chat-input {\n  box-sizing: border-box;\n  outline: none;\n  resize: none;\n  overflow: hidden;\n  min-height: 38px;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  font-size: 14px;\n  padding: 10px 0 10px 20px;\n  color: #fff;\n  cursor: text;\n}\n.chat-input:empty::before {\n  content: "\\8BF4\\70B9\\4EC0\\4E48\\5427...";\n}\n.chat-input:focus::before {\n  content: "";\n}\n.chat-send {\n  background: transparent;\n  border: none;\n  position: relative;\n  overflow: hidden;\n  padding: 0 20px;\n  color: #fff;\n  -webkit-transition: color 0.6s;\n  transition: color 0.6s;\n}\n.chat-input:empty + .chat-send {\n  color: #fff;\n}\n.chat-send > i {\n  position: relative;\n}\n.chat-effect-container {\n  position: absolute;\n  top: -100px;\n  width: 100%;\n}\n.chat-effect-bar {\n  background: #61c8d1;\n  position: absolute;\n  top: 100px;\n  width: 100%;\n  height: 40px;\n  -webkit-transform: rotateY(0);\n  transform: rotateY(0);\n}\n.chat-effect-dots {\n  position: absolute;\n}\n.chat-effect-dot {\n  background: #61c8d1;\n  position: absolute;\n  width: 15px;\n  height: 15px;\n  border-radius: 100%;\n}\n.chat-info-container {\n  position: absolute;\n  top: -20px;\n  font-size: 12px;\n  color: #2B8EC2;\n}\n.chat-info-typing {\n  position: absolute;\n  left: 80px;\n  white-space: nowrap;\n}\n',"",{version:3,sources:["/./src/views/chat.vue.style"],names:[],mappings:"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",file:"chat.vue",sourcesContent:['.chat-window button:focus {\n  -webkit-tap-highlight-color: rgba(255, 255, 255, 0);\n  -webkit-tap-highlight-color: transparent;\n  outline: none;\n}\n.chat-messages {\n  height: 460px;\n  overflow-x: hidden;\n  overflow-y: auto;\n  width: 100%;\n  position: relative;\n  background: #ecf0f1;\n}\n.chat-messages-list {\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n  width: 100%;\n  padding: 10px;\n  line-height: 1.4;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.chat-message {\n  position: relative;\n  font-size: 0;\n  margin-bottom: 20px;\n  padding-left: 40px;\n}\n.chat-message .chat-message-avatar {\n  position: absolute;\n  z-index: 9;\n  left: 0;\n  top: 0;\n  width: 35px;\n  height: 35px;\n  overflow: hidden;\n  -webkit-border-radius: 50%;\n  border-radius: 50%;\n}\n.chat-message .chat-message-avatar img {\n  display: block;\n  width: 35px;\n  height: 35px;\n}\n.chat-message .chat-message-bubble {\n  display: inline-block;\n  font-size: 14px;\n  max-width: 280px;\n  background: #fff;\n  padding: 8px 15px;\n  border-radius: 18px;\n  word-break: break-word;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.chat-time {\n  position: absolute;\n  top: -15px;\n  left: 0;\n  width: 100%;\n  text-align: center;\n}\n.chat-time span {\n  display: inline-block;\n  font-size: 12px;\n  color: #999;\n}\n.chat-message-effect {\n  position: absolute;\n}\n.chat-message-self.chat-message-merge-start .chat-message-bubble {\n  border-bottom-right-radius: 0;\n}\n.chat-message-self.chat-message-merge-middle .chat-message-bubble {\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n}\n.chat-message-self.chat-message-merge-end .chat-message-bubble {\n  border-top-right-radius: 0;\n}\n.chat-message-self {\n  text-align: right;\n  padding-left: 0;\n  padding-right: 40px;\n}\n.chat-message-self .chat-message-avatar {\n  left: auto;\n  right: 0;\n}\n.chat-message-self .chat-message-bubble,\n.chat-message-effect .chat-message-bubble {\n  background: #61c8d1;\n  color: #fff;\n  text-align: left;\n}\n.chat-message-theme {\n  margin-bottom: 20px;\n  padding-left: 0;\n  text-align: center;\n}\n.chat-message-theme .chat-message-bubble {\n  text-align: left;\n}\n.chat-message-theme .chat-message-bubble .label {\n  font-size: 14px;\n  color: #61c8d1;\n}\n.chat-message-theme .chat-message-bubble .what,\n.chat-message-theme .chat-message-bubble .time {\n  margin-right: 10px;\n  color: #999;\n  font-size: 12px;\n}\n.chat-message-theme .chat-message-bubble .what .iconfont,\n.chat-message-theme .chat-message-bubble .time .iconfont {\n  margin-right: 3px;\n  font-size: 12px;\n}\n.chat-input-bar {\n  position: relative;\n  background: #61c8d1;\n}\n.chat-input-wrapper {\n  position: relative;\n  z-index: 2;\n  padding: 10px 0;\n  border-radius: 0 0 2px 2px;\n  color: #fff;\n}\n.chat-input-wrapper,\n.chat-send {\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-flex-wrap: wrap;\n  -ms-flex-wrap: wrap;\n  flex-wrap: wrap;\n  -webkit-justify-content: center;\n  justify-content: center;\n  font-size: 16px;\n}\n.chat-input-tool {\n  background: transparent;\n  border: none;\n  padding: 0 20px;\n  color: inherit;\n}\n.chat-input {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  outline: none;\n  resize: none;\n  overflow: hidden;\n  min-height: 38px;\n  -webkit-flex: 1;\n  flex: 1;\n  font-size: 14px;\n  padding: 10px 0 10px 20px;\n  color: #fff;\n  cursor: text;\n}\n.chat-input:empty::before {\n  content: "说点什么吧...";\n}\n.chat-input:focus::before {\n  content: "";\n}\n.chat-send {\n  background: transparent;\n  border: none;\n  position: relative;\n  overflow: hidden;\n  padding: 0 20px;\n  color: #fff;\n  -webkit-transition: color 0.6s;\n  transition: color 0.6s;\n}\n.chat-input:empty + .chat-send {\n  color: #fff;\n}\n.chat-send > i {\n  position: relative;\n}\n.chat-effect-container {\n  position: absolute;\n  top: -100px;\n  width: 100%;\n}\n.chat-effect-bar {\n  background: #61c8d1;\n  position: absolute;\n  top: 100px;\n  width: 100%;\n  height: 40px;\n  -webkit-transform: rotateY(0);\n  transform: rotateY(0);\n}\n.chat-effect-dots {\n  position: absolute;\n}\n.chat-effect-dot {\n  background: #61c8d1;\n  position: absolute;\n  width: 15px;\n  height: 15px;\n  border-radius: 100%;\n}\n.chat-info-container {\n  position: absolute;\n  top: -20px;\n  font-size: 12px;\n  color: #2B8EC2;\n}\n.chat-info-typing {\n  position: absolute;\n  left: 80px;\n  white-space: nowrap;\n}\n'],sourceRoot:"webpack://"}])},106:function(n,e,t){(function(n){"use strict";function a(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(e,"__esModule",{value:!0});var s=t(34),i=a(s),o=t(21),r=t(36),c=t(37),l=t(38),d=null,p="";e["default"]={ready:function(){},attached:function(){var n=this;setTimeout(function(){n.updateChatHeight();for(var e=document.getElementsByClassName("noscript"),t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])},100)},data:function(){return{showMenu:!1,pageType:"chat",hdTitle:"聊天",menuBack:!0,userId:"",datingId:"",detail:{},messageList:[],showLoad:!1,transitionName:"slide-right"}},route:{data:function(e){var t=this;this.userId=e.to.params.uid,this.datingId=e.to.params.did,this.getDetail(),this.getData(),"http:"==window.location.protocol?t.connect("ws://"+window.location.host+"/websocket/chat/"+t.datingId+"/"+t.userId):t.connect("wss://"+window.location.host+"/websocket/chat/"+t.datingId+"/"+t.userId),setTimeout(function(){n(window).scrollTop(0)},150)},activate:function(n){"message"===n.from.name?this.transitionName="slide-right":"profile"===n.from.name&&(this.transitionName="fade"),setTimeout(function(){n.next()},100)},deactivate:function(n){"profile"===n.to.name?this.transitionName="fade":this.transitionName="slide-right",setTimeout(function(){n.next()},100)}},filters:{msgTime:function(n){var e=n.substr(0,19).replace(/-/g,"/"),t="";return(""==p||""!=p&&new Date(e).getTime()-p>36e5)&&(t=this.handleTime(e)),p=new Date(e).getTime(),t}},methods:{focusInput:function(){n("#message").focus()},connect:function(e){var t=this;if("WebSocket"in window)d=new WebSocket(e);else{if(!("MozWebSocket"in window))return void c.show({type:"error",title:"Error: WebSocket is not supported by this browser."});d=new MozWebSocket(e)}d.onopen=function(){},d.onclose=function(){document.getElementById("message").onkeydown=null,c.show({type:"error",title:"Info: WebSocket closed."})},d.onmessage=function(e){var a=JSON.parse(e.data);console.log(a),t.messageList.push(a),setTimeout(function(){n(".chat-messages").scrollTop(9999999)},100)}},sendMessage:function(){var e=this,t=n.trim(n("#message").text()),a={message:t,userId:e.userId,datingId:e.datingId};t&&e.userId&&e.datingId&&(d.send((0,i["default"])(a)),n("#message").text(""),o.isWeixin()||e.updateChatHeight())},updateChatHeight:function(){n(".chat-messages").css({height:n(window).height()-n(".chat-input-bar").height()-50})},handleTime:function(n){var e=n.substr(0,19),t=o.strToDate(e),a=t.getFullYear(),s=t.getMonth()+1,i=t.getDate(),r=t.getHours(),c=t.getMinutes(),l=t.getSeconds();return s<10&&(s="0"+s),i<10&&(i="0"+i),r<10&&(r="0"+r),c<10&&(c="0"+c),l<10&&(l="0"+l),a+"年"+s+"月"+i+"日 "+r+":"+c},watchInputHeight:function(){o.isWeixin()||this.updateChatHeight()},getDetail:function(){var n=this,e={userId:n.userId,datingId:n.datingId};n.showLoad=!0,l.get(r.datingDetailApi,e,function(e){if(n.showLoad=!1,e.result&&e.result.datingInfo){var t=e.result.datingInfo;n.detail=t}else c.show({type:"error",title:"返回的约会数据格式有问题"})},function(e){n.showLoad=!1,c.show({type:"error",title:e.resultMsg})})},getData:function(){var e=this,t={userId:e.userId,datingId:e.datingId};e.showLoad=!0,l.get(r.chatRecordsApi,t,function(t){e.showLoad=!1,t.result&&t.result.messageList?(e.messageList=t.result.messageList,setTimeout(function(){n(".chat-messages").scrollTop(9999999)},100)):c.show({type:"error",title:"返回的聊天数据格式有问题"})},function(n){e.showLoad=!1,c.show({type:"error",title:n.resultMsg})})}},components:{nvHead:t(67),loading:t(78)}}}).call(e,t(4))},107:function(n,e){n.exports='\n    <!-- 全局header -->\n    <nv-head :page-type="pageType" :hd-title="hdTitle" \n             :show-menu="showMenu" :menu-back="menuBack">\n    </nv-head>\n    <loading :show-load="showLoad" load-type="loadmodal"></loading>\n    <section class="page-content" :transition="transitionName">\n\t    <div class="chat-window">\n\t        <div class="chat-messages">\n\t            <ol class="chat-messages-list">\n\t                <li class="chat-message chat-message-theme">\n\t                \t<div class="chat-message-bubble">\n\t                \t\t<span class="label">\n\t                \t\t\t<span class="iconfont icon-lquote"></span> 约吗？\n\t                \t\t</span>\n\t                \t\t<br>\n\t                \t\t<span>{{detail.article}}</span>\n\t                \t\t<br>\n\t                \t\t<span class="what">\n\t                \t\t\t<span class="iconfont" :class="detail.typeId | getIconClass"></span>\n\t                \t\t\t{{detail.typeId | getTypeName}}\n\t                \t\t</span>\n\t                \t\t<span class="time">\n\t                \t\t\t<span class="iconfont icon-calendar"></span>\n\t                \t\t\t{{detail.datingTime | getDatingDate}}\n\t                \t\t</span>\n\t                \t</div>\n\t                </li>\n\t                <li class="chat-message" :class="msg.self?\'chat-message-self\':\'chat-message-friend\'" v-for="msg in messageList">\n\t                \t<div class="chat-time"><span>{{msg.sendTime | msgTime}}</span></div>\n\t                \t<div class="chat-message-avatar">\n\t                \t\t<a v-link="{name: \'profile\', params: {id: msg.fromUserId}}">\n\t                \t\t\t<img :src="msg.avatar | getAvatar 60" alt="">\n\t                \t\t</a>\n\t                \t</div>\n\t                \t<div class="chat-message-bubble">{{msg.message || msg.msg}}</div>\n\t                </li>\n\t            </ol>\n\t        </div>\n\t        <div class="chat-input-bar">\n\t            <div class="chat-info-container">\n\n\t            </div>\n\t            <div class="chat-effect-container">\n\t                <div class="chat-effect-bar"></div>\n\t            </div>\n\t            <div class="chat-input-wrapper">\n\t                <div class="chat-input" id="message" contenteditable="" \n\t                \t@click="focusInput" @keydown.enter="sendMessage" @input="watchInputHeight"></div>\n\t                <button class="chat-send" id="sendBtn" @click="sendMessage">\n\t                    <span class="iconfont icon-send"></span>\n\t                </button>\n\t            </div>\n\t        </div>\n\t    </div>\n\t</div>\n</template>';
}});